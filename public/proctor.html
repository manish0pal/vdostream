<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proctor</title>
    <script>
        const ROOM_ID = "proctor120";
    </script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script defer src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="/socket.io/socket.io.js" defer></script>

    <script src="https://kit.fontawesome.com/c939d0e917.js"></script>
    <script src="proctor.js" defer></script>

    <!-- bootstrapcdn -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="proctor.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sriracha&display=swap" rel="stylesheet">
    <style>
        .allchatcard {
            width: 300px;
            height: 400px;
            border: none;
            border-radius: 15px
        }

        .chatbody {
            position: absolute;
            bottom: 24px;
            right: 24px;
        }

        .adiv {
            background: #04CB28;
            border-radius: 15px;
            border-bottom-right-radius: 0;
            border-bottom-left-radius: 0;
            font-size: 14px;
            height: 46px
        }

        .me {
            border: none;
            background: #E2FFE8;
            font-size: 13px;
            border-radius: 20px;
            float: left;
            margin-top: 4px;
            padding: 7px;
            padding-left: 16px;
            padding-right: 16px;
            width: 90%;
        }

        .other {
            text-align: end;
            float: right;
            border: 1px solid #E7E7E9;
            font-size: 13px;
            border-radius: 20px;
            margin-top: 4px;
            padding: 7px;
            width: 90%;
            padding-left: 16px;
            padding-right: 16px;
        }

        .myvideo img {
            border-radius: 20px
        }

        .dot {
            font-weight: bold
        }

        .form-control {
            border-radius: 12px;
            border: 1px solid #F0F0F0;
            font-size: 12px
        }

        .form-control:focus {
            box-shadow: none
        }

        .form-control::placeholder {
            font-size: 12px;
            color: #C4C4C4
        }

        .msgbox {
            height: 230px;
            overflow-x: auto;
        }

        .msg_input_container {
            padding: 4px;
            display: flex;
            justify-content: space-between;
            align-items: end;
        }

        .msg_input_box {
            border: solid 1px blue;

        }
    </style>

</head>

<body class="bg-grey">
    <nav class="navbar navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand nav_title" href="#">UBROSOFT PROCTOR AREA</a>
            </div>

            <!-- <form class="navbar-form navbar-left" action="/action_page.php">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Search" name="search">
                </div>
                <button type="submit" class="btn btn-default">Submit</button>
            </form> -->
        </div>
    </nav>


    <div class="container-fluid" style="margin-top:70px">
        <div class="row  pt-3" id="candidate_list">
            <div class="col-12 col-sm-6 col-md-4 col-lg-4 col-xl-3 mb-3">
                <div class="card ">
                    <video class="img-fluid m-2" id="vdo123" alt="Card image"
                        src="https://www.w3schools.com/tags/movie.mp4"></video>
                    <div class="card-body candidate_card" id="cand123">
                        <div class="row">
                            <div class="col-11 card mb-2 mt-2 p-2">
                                <table id="candidate_table" class="candidate_table">
                                    <tr>
                                        <th>Enrollment No</th>
                                        <td>12465 </td>
                                    </tr>
                                    <tr>
                                        <th>Name</th>
                                        <td>Manihs </td>
                                    </tr>
                                    <tr>
                                        <th>Exam Status</th>
                                        <td>Active</td>
                                    </tr>
                                    <tr>
                                        <th>Ip Address</th>
                                        <td>192.168.101.1</td>
                                    </tr>
                                    <tr>
                                        <th>Time Remaining</th>
                                        <td>128</td>
                                    </tr>
                                    <tr>
                                        <th>Face Status</th>
                                        <td>Single Face Deteced <span class="blink_me">
                                                <!-- <svg height="15" width="15"> <circle cx="5" cy="5" r="5" fill="#6495ED"/> </svg> -->
                                            </span></td>
                                    </tr>
                                    <tr>
                                        <th>Window Minimize</th>
                                        <td>Full Screen</td>
                                    </tr>

                                    <tr>
                                        <th>Other Activity</th>
                                        <td><button type="button" class="btn btn-default">Check</button></td>
                                    </tr>
                                </table>
                                <div class="pb-2 center">
                                    <button type="button" class="btn btn-default c_tooltip" onclick="refresh">
                                        <i class="fa fa-refresh" aria-hidden="true"></i>
                                        <span class="c_tooltiptext">Refresh Candidate Data
                                        </span>
                                    </button>
                                    <button type="button" class="btn btn-default c_tooltip " onclick="screen-share"> <i
                                            class="fa fa-desktop" aria-hidden="true"></i> <span
                                            class="c_tooltiptext">WebCam/Screen </span> </button>

                                    <button type="button" data-toggle="collapse" data-target="#chatcandidate1"
                                        class="btn btn-default c_tooltip" onclick="chat">
                                        <i class="fa fa-commenting-o" aria-hidden="true"></i>
                                        <span class="c_tooltiptext">Chat with
                                            Candidate</span>
                                    </button>
                                    <button type="button" class="btn btn-default c_tooltip " onclick="voice"> <i
                                            class="fa fa-microphone-slash" aria-hidden="true"></i> <span
                                            class="c_tooltiptext">Mute/Unmute Candidate</span> </button> <button
                                        type="button" class="btn btn-default c_tooltip" onclick="pause"> <i
                                            class="fa fa-pause" aria-hidden="true"></i> <span
                                            class="c_tooltiptext">Pause/Resume Candidate Exam</span> </button>
                                    <!-- <button type="button" class="btn btn-success"onclick="resume">Resume</button> -->
                                    <br /> <br /> <button type="button" class="btn btn-danger"
                                        onclick="terminate">Terminate</button> <button type="button"
                                        class="btn btn-success" onclick="relogin">Allow Re-Login</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card chatcard collapse " id="chatcandidate1">
                    <div class="card_title">
                        <span class="pull-right" data-toggle="collapse" data-target="#chatcandidate1">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </span>
                        <h5> Manish</h5>

                    </div>
                    <div class="card-body chatmsg">
                        <span class="pull-right">Me: nckan</span>
                        <br>
                        <span>you: nckan</span>
                        <br>
                        <span>you: nckan</span>
                    </div>
                    <div class="input-container p-2 bottom_input">
                        <textarea type="text" class="form-control" placeholder="Your Message" rows="4"></textarea>
                        <button type="submit" class="btn btn-primary m-2">Send Message</button>
                    </div>

                </div>
            </div>
        </div>




    </div>

    <div class="chatbody" id="chatbox">
        <div class="allchatcard card mt-5">
            <div class="d-flex flex-row justify-content-between p-3 adiv text-white">
                <i></i>
                <span class="pb-3" id="chattitle">Live chat</span>
                <i class="fas fa-times"></i>
            </div>
            <div class="p-3 msgbox" id="setmsgbox">

            </div>

            <div class="msg_input_container">
                <textarea class="form-control msg_input_box" rows="4" placeholder="Type your message"></textarea>

            </div>
            <button type="button" class="btn btn-primary pull-right" onclick="sendmsg()">
                Send</button>
        </div>
    </div>

    </div>

    <script>

        let candidate_list_grid = document.getElementById("candidate_list");


        const addCandidate = (candidateData) => {
            let tempdiv = document.createElement('div');
            tempdiv.className = "col-12 col-sm-6 col-md-4 col-lg-4 col-xl-3 mb-3"
            tempdiv.id = candidateData.candidateId;
            tempdiv.innerHTML = ` <div class="card "> <video class="img-fluid m-2" id="${candidateData.videoId}" alt="Card image"></video> <div class="card-body candidate_card" id="candi_card_body_${candidateData.candidateId}"> </div> </div> `
            candidate_list_grid.appendChild(tempdiv);
            let candi_video = document.getElementById(candidateData.videoId);
            candi_video.src = "https://www.w3schools.com/tags/movie.mp4";
            let candi_card_body = document.getElementById(`candi_card_body_${candidateData.candidateId}`);
            candi_card_body.innerHTML = `<div class="row"><div class="col-11 card mb-2 mt-2 p-2"> <table id="candidate_table" class="candidate_table"> 
<tr> <th>Enrollment No</th> <td>${candidateData.candidateId} </td> 
</tr> <tr> <th>Name</th> <td>${candidateData.candiName} </td>
</tr> <tr> <th>Exam Status</th> <td>${candidateData.examStatus}</td> </tr>
<tr> <th>Ip Address</th> <td>${candidateData.ipAddress}</td> </tr> 
<tr> <th>Time Remaining</th> <td>${candidateData.timeRemaning}</td> </tr> 
<tr> <th>Face Status</th> <td>${candidateData.faceStatus} <span class="blink_me"> <!-- <svg height="15" width="15"> <circle cx="5" cy="5" r="5" fill="#6495ED"/> </svg> --> </span></td> </tr> 
<tr> <th>Window Minimize</th> <td>${candidateData.windowStatus}</td> </tr> 
</table> <div class="pb-2 center"> 
   <button type="button" class="btn btn-default c_tooltip" onclick="refresh">
       <i class="fa fa-refresh" aria-hidden="true"></i> 
       <span class="c_tooltiptext">Refresh Candidate Data</span>
        </button> <button type="button" class="btn btn-default c_tooltip " onclick="screen-share">
          <i class="fa fa-desktop" aria-hidden="true"></i> 
          <span class="c_tooltiptext">WebCam/Screen </span> </button>
           <button type="button" class="btn btn-default c_tooltip" onclick="chat"> <i class="fa fa-commenting-o" aria-hidden="true"></i> <span class="c_tooltiptext">Chat with Candidate</span> </button> <button type="button" class="btn btn-default c_tooltip " onclick="voice"> <i class="fa fa-microphone-slash" aria-hidden="true"></i> <span class="c_tooltiptext">Mute/Unmute Candidate</span> </button> <button type="button" class="btn btn-default c_tooltip" onclick="pause"> <i class="fa fa-pause" aria-hidden="true"></i> <span class="c_tooltiptext">Pause/Resume Candidate Exam</span> </button> <!-- <button type="button" class="btn btn-success"onclick="resume">Resume</button> --> <br /> 
           <br /> 
           <button type="button" class="btn btn-danger" onclick="terminate">Terminate</button>
            <button type="button" class="btn btn-success" onclick="relogin">Allow Re-Login</button>
             </div> </div> </div>`;


        }

        addCandidate({
            candidateId: "man123",
            candiName: "Manish",
            videoId: "vdo" + this.candidateId,
            examStatus: "Active",
            ipAddress: "192.168.141.1",
            timeRemaning: "45:30 min",
            faceStatus: "Single Face Deteced",
            windowStatus: "Full Screen"
        });



    </script>


</body>

</html>